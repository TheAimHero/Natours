{"mappings":"AEAO,SAAS,0CAAW,IAAI,EAAE,GAAG;IAClC;IACA,MAAM,SAAS,CAAC,0BAA0B,EAAE,KAAK,EAAE,EAAE,IAAI,MAAM,CAAC;IAChE,SAAS,cAAc,QAAQ,mBAAmB,cAAc;IAChE,WAAW,2CAAW;AACxB;AAEO,SAAS;IACd,MAAM,KAAK,SAAS,cAAc;IAClC,MAAM,GAAG;AACX;;ADVA,kBAAkB;AAIX,eAAe,0CAAM,KAAK,EAAE,QAAQ;IACzC,IAAI;QACF,yCAAyC;QACzC,MAAM,MAAM,MAAM,MAAM;YACtB,QAAQ;YACR,KAAK;YACL,MAAM;uBAAE;0BAAO;YAAS;QAC1B;QACA,IAAI,IAAI,KAAK,WAAW,WAAW;YACjC,CAAA,GAAA,yCAAS,EAAE,WAAW;YACtB,OAAO,WAAW;gBAChB,OAAO,SAAS,OAAO;YACzB,GAAG;QACL;IACF,EAAE,OAAO,KAAK;QACZ,CAAA,GAAA,yCAAS,EAAE,SAAS,IAAI;IAC1B;AACF;AAEO,eAAe;IACpB,IAAI;QACF,yCAAyC;QACzC,MAAM,MAAM,MAAM;YAChB,QAAQ;YACR,KAAK;QACP;QACA,IAAI,IAAI,KAAK,WAAW,WAAW;YACjC,CAAA,GAAA,yCAAS,EAAE,WAAW;YACtB,OAAO,WAAW;gBAChB,OAAO,SAAS,OAAO;YACzB,GAAG;QACL;IACF,EAAE,OAAO,KAAK;QACZ,CAAA,GAAA,yCAAS,EAAE,SAAS,IAAI;IAC1B;AACF;;;AEvCA,kBAAkB,GAEX,SAAS,0CAAW,cAAc;IACvC,SAAS,cACP;IAEF,MAAM,MAAM,IAAI,SAAS,IAAI;QAC3B,WAAW;QACX,OAAO;QACP,aAAa;IACf;IAEA,MAAM,SAAS,IAAI,SAAS;IAE5B,eAAe,QAAQ,CAAA;QACrB,MAAM,KAAK,SAAS,cAAc;QAClC,GAAG,YAAY;QACf,IAAI,SAAS,OAAO;YAAE,SAAS;YAAI,QAAQ;QAAS,GACjD,UAAU,IAAI,aACd,MAAM;QAET,IAAI,SAAS,MAAM;YAAE,QAAQ;QAAG,GAC7B,UAAU,IAAI,aACd,QAAQ,CAAC,OAAO,EAAE,IAAI,IAAI,EAAE,EAAE,IAAI,YAAY,IAAI,CAAC,EACnD,MAAM;QAET,OAAO,OAAO,IAAI;IACpB;IAEA,IAAI,UAAU,QAAQ;QACpB,SAAS;YAAE,KAAK;YAAK,QAAQ;YAAK,MAAM;YAAK,OAAO;QAAI;IAC1D;AACF;;;AH7BA,MAAM,kCAAY,SAAS,cAAc;AACzC,IAAI,iCACF,gCAAU,iBAAiB,UAAU,CAAC;IACpC,EAAE;IACF,MAAM,QAAQ,SAAS,eAAe,SAAS;IAC/C,MAAM,WAAW,SAAS,eAAe,YAAY;IACrD,QAAQ,IAAI,OAAO;IACnB,CAAA,GAAA,yCAAI,EAAE,OAAO;AACf;AAGF,MAAM,+BAAS,SAAS,eAAe;AACvC,IAAI,8BAAQ;IACV,MAAM,aAAE,UAAS,EAAE,GAAG,6BAAO;IAC7B,MAAM,iBAAiB,KAAK,MAAM;IAClC,CAAA,GAAA,yCAAS,EAAE;AACb;AAEA,MAAM,kCAAY,SAAS,eAAe;AAC1C,IAAI,iCACF,gCAAU,iBAAiB,SAAS,CAAC;IACnC,EAAE;IACF,CAAA,GAAA,yCAAK;AACP","sources":["public/js/index.js","public/js/login.js","public/js/alerts.js","public/js/mapbox.js"],"sourcesContent":["import { login, logout } from './login.js';\nimport { displayMap } from './mapbox.js';\n\nconst loginForm = document.querySelector('form');\nif (loginForm) {\n  loginForm.addEventListener('submit', (e) => {\n    e.preventDefault();\n    const email = document.getElementById('email').value;\n    const password = document.getElementById('password').value;\n    console.log(email, password);\n    login(email, password);\n  });\n}\n\nconst mapBox = document.getElementById('map');\nif (mapBox) {\n  const { locations } = mapBox.dataset;\n  const locationsArray = JSON.parse(locations);\n  displayMap(locationsArray);\n}\n\nconst logoutBtn = document.getElementById('logout');\nif (logoutBtn) {\n  logoutBtn.addEventListener('click', (e) => {\n    e.preventDefault();\n    logout();\n  });\n}\n","/* eslint-disable */\n\nimport { showAlerts } from './alerts';\n\nexport async function login(email, password) {\n  try {\n    // TODO: Learn to do this the vanilla way\n    const res = await axios({\n      method: 'POST',\n      url: 'http://localhost:3000/api/v1/users/login',\n      data: { email, password },\n    });\n    if (res.data.status === 'success') {\n      showAlerts('success', 'Login Successful');\n      window.setTimeout(() => {\n        window.location.href = '/';\n      }, 1000);\n    }\n  } catch (err) {\n    showAlerts('error', err.message);\n  }\n}\n\nexport async function logout() {\n  try {\n    // TODO: Learn to do this the vanilla way\n    const res = axios({\n      method: 'GET',\n      url: 'http://localhost:3000/api/v1/users/logout',\n    });\n    if (res.data.status === 'success') {\n      showAlerts('success', 'Logout Successful');\n      window.setTimeout(() => {\n        window.location.href = '/';\n      }, 1000);\n    }\n  } catch (err) {\n    showAlerts('error', err.message);\n  }\n}\n","export function showAlerts(type, msg) {\n  hideAlert();\n  const markup = `<div class=\"alert\" alert--${type}\">${msg}</div>`;\n  document.querySelector('body').insertAdjacentHTML('afterbegin', markup);\n  setTimeout(hideAlert, 5000);\n}\n\nexport function hideAlert() {\n  const el = document.querySelector('.alert');\n  el && el.remove();\n}\n","/* eslint-disable */\n\nexport function displayMap(locationsArray) {\n  mapboxgl.accessToken =\n    'pk.eyJ1IjoidGhlYWltaGVybyIsImEiOiJjbGkxYzdqdWowMTdzM3VwbW0wNWhsbWoxIn0.MU63tR9TXa5GDSTR0jS0yw';\n\n  const map = new mapboxgl.Map({\n    container: 'map',\n    style: 'mapbox://styles/theaimhero/cli23mu1400kk01pn258lcdtw',\n    interactive: false,\n  });\n\n  const bounds = new mapboxgl.LngLatBounds();\n\n  locationsArray.forEach(loc => {\n    const el = document.createElement('div');\n    el.className = 'marker';\n    new mapboxgl.Marker({ element: el, anchor: 'bottom' })\n      .setLngLat(loc.coordinates)\n      .addTo(map);\n\n    new mapboxgl.Popup({ offset: 35 })\n      .setLngLat(loc.coordinates)\n      .setHTML(`<p>Day ${loc.day}: ${loc.description}</p>`)\n      .addTo(map);\n\n    bounds.extend(loc.coordinates);\n  });\n\n  map.fitBounds(bounds, {\n    padding: { top: 200, bottom: 150, left: 200, right: 200 },\n  });\n}\n"],"names":[],"version":3,"file":"bundle.js.map","sourceRoot":"../../"}